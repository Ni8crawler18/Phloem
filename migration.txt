Render won't run migrations automatically. You have a few options:

  Option 1: Render Shell (Manual, one-time)
  1. Go to Render Dashboard → Your web service → Shell
  2. Run: psql $DATABASE_URL -f migrations/001_add_email_verification.sql

  Option 2: Pre-deploy Command (Recommended)
  Add to your render.yaml or service settings:
  preDeployCommand: "psql $DATABASE_URL -f migrations/001_add_email_verification.sql"

  Option 3: Add to your start script
  Create a start.sh:
  #!/bin/bash
  psql $DATABASE_URL -f migrations/001_add_email_verification.sql || true
  uvicorn app.main:app --host 0.0.0.0 --port $PORT

  Since this is a one-time migration, Option 1 (Render Shell) is quickest. Just SSH into your Render service and run the SQL file.

  Render migration.